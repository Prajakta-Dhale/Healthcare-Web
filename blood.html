<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Health Tests</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" type="image/x-icon" href="/logo.png" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
    />
<style>
      @media screen and (min-width: 768px) {
        
        footer {
          width: 100%;
        }
        nav {
          width: 100%;
        }
      }

.page-layout {
    display: flex;
    max-width: 1200px;
    margin: 0 auto;
    gap: 30px;
}
.tests-section {
    flex: 3; 
}

.cart-sidebar {
    flex: 2;
    text-align: center;
    position: sticky;
    background: #c3efea;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.test-listing, .cart-item {
    display: flex;
    justify-content: space-between; 
    align-items: center;
    padding: 15px;
    border-radius: 6px;
    margin-bottom: 15px;
}

.add-button {
    background-color: #28a745; 
    color: white;
    padding: 10px 18px;
    border-radius: 5px;
}

.remove-button, .checkout-button {
    background-color: #dc3545; 
    color: white;
    border: none;
    padding: 12px;
    border-radius: 5px;
}

.remove-button {
    background: none;
    color: #dc3545;
}

.final-total {
    font-size: 1.3rem;
    font-weight: bold;
    color: #dc3545; 
}
</style>
</head>
<body>
    <nav class="navbar navbar-expand-lg text-center" data-bs-theme="light">
      <div
        class="container-fluid rounded-5"
        style="background-color: rgb(91, 195, 195); padding-left: 1px"
      >
        <a class="logo" href="#"><img src="logo.png" alt="logo" /></a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-1 mb-lg-0" style="margin-left: 4%">
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="findadr.html">Find a Doctor</a>
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                More
              </a>
              <ul class="dropdown-menu">
                <li>
                  <a class="dropdown-item" href="depart.html">Department</a>
                </li>
                <li>
                  <a class="dropdown-item" href="blood.html">Blood Test</a>
                </li>
                <li>
                  <a class="dropdown-item" href="aboutus.html">About Us</a>
                </li>
                <li>
                  <a class="dropdown-item" href="connectus.html">Connect Us</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    
    <div class="container mt-4 mb-4">
    <div class="page-layout">
        <div class="tests-section">
            <h1 style="color: #dc0303ce;">Essential Health Tests</h1>
            <div id="test-listings-container">
                </div>
        </div>
        
        <div class="cart-sidebar">
            <h2 class="mt-5 fw-bold"> My Selected Tests</h2>
            <div id="cart-contents-container">
                <p class="empty-message">No tests added yet.</p>
            </div>

            <div class="total-info">
                <div class="total-row">
                    <span>Subtotal:</span>
                    <span id="tests-subtotal">₹ 0.00</span>
                </div>
                <div class="total-row final-total">
                    <span>Amount Due:</span>
                    <span id="final-amount-due">₹ 0.00</span>
                </div>
            </div>
            
            <button class="checkout-button" onclick="finalizeSelection()">Secure Appointment</button>
        </div>
    </div>
    </div>

    <script>

const allAvailableHealthChecks = [
    { unique_id: 'cbc', name: 'Complete Blood Count (CBC)', cost: 450.00, details: "Checks red and white blood cells." },
    { unique_id: 'tft', name: 'Thyroid Function Test (TFT)', cost: 750.00, details: "Measures T3, T4, and TSH levels." },
    { unique_id: 'lp', name: 'Lipid Profile', cost: 900.00, details: "Measures cholesterol and triglycerides." },
    { unique_id: 'lft', name: 'Liver Function Test (LFT)', cost: 1200.00, details: "Assesses liver health." },
    { unique_id: 'dm', name: 'HbA1c (Diabetes Screen)', cost: 600.00, details: "Average blood sugar over 3 months." },
    { unique_id: 'vits', name: 'Vitamin D & B12 Panel', cost: 1500.00, details: "Checks essential vitamin levels." }
];

let chosenTests = [];
function showAvailableTests() {
    const listContainer = document.getElementById('test-listings-container');
    listContainer.innerHTML = allAvailableHealthChecks.map(test => `
        <div class="test-listing">
            <div>
                <h3>${test.name}</h3>
                <p>${test.details}</p>
                <p><strong>Price: ₹ ${test.cost.toFixed(2)}</strong></p>
            </div>
            <button class="add-button" onclick="addItemToSelection('${test.unique_id}')">Add Test</button>
        </div>
    `).join('');
}

function refreshCartDisplay() {
    const cartContainer = document.getElementById('cart-contents-container');
    const subtotalElement = document.getElementById('tests-subtotal');
    const totalElement = document.getElementById('final-amount-due');

    const totalCost = chosenTests.reduce((sum, item) => sum + item.cost, 0);

    if (chosenTests.length === 0) {
        cartContainer.innerHTML = '<p class="empty-message">No tests added yet.</p>';
    } else {
        cartContainer.innerHTML = chosenTests.map(item => `
            <div class="cart-item">
                <span>${item.name}</span>
                <div>
                    <span>₹ ${item.cost.toFixed(2)}</span>
                    <button class="remove-button" onclick="removeItemFromSelection('${item.unique_id}')">&times;</button>
                </div>
            </div>
        `).join('');
    }

    subtotalElement.textContent = `₹ ${totalCost.toFixed(2)}`;
    totalElement.textContent = `₹ ${totalCost.toFixed(2)}`;
}

function addItemToSelection(testId) {
    const testDetails = allAvailableHealthChecks.find(test => test.unique_id === testId);
    
    const alreadyChosen = chosenTests.some(item => item.unique_id === testId);

    if (testDetails && !alreadyChosen) {
        chosenTests.push(testDetails);
        refreshCartDisplay();
        console.log(`Added: ${testDetails.name}. Total items: ${chosenTests.length}`);
    } else if (alreadyChosen) {
        alert(`${testDetails.name} is already in your selection list.`);
    }
}

function removeItemFromSelection(testId) {
    chosenTests = chosenTests.filter(item => item.unique_id !== testId);
    refreshCartDisplay();
    console.log(`Removed item. Remaining items: ${chosenTests.length}`);
}

function finalizeSelection() {
    if (chosenTests.length === 0) {
        alert("Please select at least one test to secure your appointment.");
        return;
    }

    const totalAmount = chosenTests.reduce((sum, item) => sum + item.cost, 0);
    const selectedNames = chosenTests.map(item => item.name).join(', ');

    console.log("--- FINAL SELECTION SUMMARY ---");
    console.log("Tests Requested:", chosenTests);
    console.log("Total Amount Due:", `₹ ${totalAmount.toFixed(2)}`);
    console.log("-------------------------------");

    alert(`Success! Your appointment is secured for: ${selectedNames}. Total Amount: ₹ ${totalAmount.toFixed(2)}. We will contact you soon.`);
    
    chosenTests = [];
    refreshCartDisplay();
}

document.addEventListener('DOMContentLoaded', () => {
    showAvailableTests();
    refreshCartDisplay();
});
    </script>

    <footer>
      <div class="container mb-3 mt-3">
        <div class="row">
          <div class="col-md-4">
            <h4>SCRUBS AND STORIES</h4>
            <h6>
              4th floor,Imperial Lifestyle,<br />
              Near Toyota Showroom,<br />
              Road No 22, Wagle Estate <br />
              Vasai-West
            </h6>
          </div>
          <div class="col-md-4">
            <h4>Quick links</h4>
            <a
              class="text-primary fs-6"
              style="text-decoration: none"
              href="index.html"
              >Home</a
            ><br />
            <a
              class="text-primary fs-6"
              style="text-decoration: none"
              href="findadr.html"
              >Find a Doctor</a
            ><br />
            <a
              class="text-primary fs-6"
              style="text-decoration: none"
              href="depart.html"
              >Department</a
            ><br />
            <a
              class="text-primary fs-6"
              style="text-decoration: none"
              href="blood.html"
              >Blood Test</a
            ><br />
            <a
              class="text-primary fs-6"
              style="text-decoration: none"
              href="aboutus.html"
              >About Us</a
            ><br />
            <a
              class="text-primary fs-6"
              style="text-decoration: none"
              href="connectus.html"
              >Connect Us</a
            >
          </div>
          <div class="col-md-4" style="cursor: pointer">
            <h4>Connect Us</h4>
            <i class="bi bi-facebook"></i><br />
            <i class="bi bi-instagram"></i><br />
            <i class="bi bi-youtube"></i><br />
            <i class="bi bi-twitter"></i>
          </div>
        </div>
        <p class="mt-4">&copy; 2025 Prajakta Dhale. All Rights Reserved.</p>
      </div>
    </footer>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"
    ></script>
</body>
</html>